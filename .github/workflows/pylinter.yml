name: Github-actions-practice

on:
  push:
    branches: [main]
    paths: 
    - 'factorial.py'
    - 'lint_test.py'
    
jobs:
  lint:
    runs-on: ubuntu-latest
    steps:
    - name: Operating system
      run: echo "This job is now running on ${{ runner.os }} server hosted by GitHub"
    - name: Job Name
      run: echo "This is job named ${{ github.job }}"
    - name: Event Name
      run: echo "This job was automatically triggered by a ${{ github.event_name }} event."
    - name: Branch and Repository
      run: echo "This job is triggered on branch ${{ github.ref }} from ${{ github.repository }} repository"
    - name: Run Attempt
      run: echo "This is attempt number ${{ github.run_attempt }}"
    - name: Check out reporistory code
      uses: actions/checkout@v2
    - name: Setup Python
      uses: action/setup-python@v2
      with:
        python-version: 3.9
    - name: Install Dependancies
      run: |
        python -m pip install --upgrade pip
        pip install pylint
    - name: Lint with pylint
      run: |
        python lint_test.py
    - name: Build Cotnainer
      run: |
        echo "Building docker container...."
        sleep 10
        echo "Docker container built successfully"
    - name: Deploy application
      run: |
        echo "Deploying our applicaiton"
        sleep 10
        echo "The mega super-duper application has been deployed"
    - run: echo "This job status is ${{ job.status }}."
